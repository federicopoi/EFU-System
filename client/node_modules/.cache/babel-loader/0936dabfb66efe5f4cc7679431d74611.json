{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/projecto-tpm/client/src/auth-components/register/registerpage.jsx\";\nimport React, { Component } from \"react\";\nimport { Card } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { register } from \"../../store/actions/authActions\";\nimport { clearErrors } from \"../../store/actions/errorActions\";\nimport { Label, Input, Alert } from \"reactstrap\";\nimport { withRouter } from \"react-router-dom\";\nexport class RegisterPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      role: \"\",\n      acceso: {\n        dashboard: true,\n        tarjetas: true,\n        agregarTarjeta: true,\n        detalleTarjeta: true\n      },\n      msg: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        username,\n        email,\n        password,\n        role,\n        acceso\n      } = this.state; // Create usre object\n\n      const newUser = {\n        username,\n        email,\n        password,\n        role,\n        acceso\n      }; // Atempt to register\n\n      this.props.register(newUser);\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error,\n      isAuthenticated\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      //Check for register error\n      if (error.id === \"REGISTER_FAIL\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n\n    if (this.props.success) {\n      this.props.history.push(\"/admin\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"px-5 py-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, \"Nombre de usuario\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"username\",\n      id: \"username\",\n      placeholder: \"Username\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      placeholder: \"Email\",\n      className: \"mb-3\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      placeholder: \"Password\",\n      className: \"mb-3\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, \"Rol\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"role\",\n      id: \"role\",\n      placeholder: \"Operador de planta\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"Sign Up\"), this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"forgot-password text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Already registered \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 38\n      }\n    }, \"sign in?\")))))));\n  }\n\n}\nRegisterPage.propTypes = {\n  isAuthenticated: PropTypes.bool,\n  error: PropTypes.object.isRequired,\n  register: PropTypes.func.isRequired,\n  clearErrors: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  success: state.auth.success,\n  error: state.error\n});\n\nexport default withRouter(connect(mapStateToProps, {\n  register,\n  clearErrors\n})(RegisterPage));","map":{"version":3,"sources":["/Users/fedepoi/projecto-tpm/client/src/auth-components/register/registerpage.jsx"],"names":["React","Component","Card","connect","PropTypes","register","clearErrors","Label","Input","Alert","withRouter","RegisterPage","state","username","email","password","role","acceso","dashboard","tarjetas","agregarTarjeta","detalleTarjeta","msg","onChange","e","setState","target","name","value","onSubmit","preventDefault","newUser","props","componentDidUpdate","prevProps","error","isAuthenticated","id","success","history","push","render","propTypes","bool","object","isRequired","func","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Card } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { register } from \"../../store/actions/authActions\";\nimport { clearErrors } from \"../../store/actions/errorActions\";\nimport { Label, Input, Alert } from \"reactstrap\";\nimport { withRouter } from \"react-router-dom\";\n\nexport class RegisterPage extends Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    role: \"\",\n    acceso: {\n      dashboard: true,\n      tarjetas: true,\n      agregarTarjeta: true,\n      detalleTarjeta: true,\n    },\n    msg: null,\n  };\n\n  static propTypes = {\n    isAuthenticated: PropTypes.bool,\n    error: PropTypes.object.isRequired,\n    register: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n  };\n\n  componentDidUpdate(prevProps) {\n    const { error, isAuthenticated } = this.props;\n    if (error !== prevProps.error) {\n      //Check for register error\n      if (error.id === \"REGISTER_FAIL\") {\n        this.setState({\n          msg: error.msg.msg,\n        });\n      } else {\n        this.setState({\n          msg: null,\n        });\n      }\n    }\n    if (this.props.success) {\n      this.props.history.push(\"/admin\");\n    }\n  }\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { username, email, password, role, acceso } = this.state;\n\n    // Create usre object\n    const newUser = {\n      username,\n      email,\n      password,\n      role,\n      acceso,\n    };\n\n    // Atempt to register\n    this.props.register(newUser);\n  };\n\n  render() {\n    return (\n      <div className=\"container h-100\">\n        <div className=\"row align-items-center h-100\">\n          <div className=\"col-6 mx-auto\">\n            <Card className=\"px-5 py-5\">\n              <form onSubmit={this.onSubmit}>\n                <h3>Register</h3>\n\n                <div className=\"form-group\">\n                  <Label for=\"name\">Nombre de usuario</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"username\"\n                    id=\"username\"\n                    placeholder=\"Username\"\n                    onChange={this.onChange}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <Label for=\"email\">Email</Label>\n                  <Input\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    placeholder=\"Email\"\n                    className=\"mb-3\"\n                    onChange={this.onChange}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <Label for=\"password\">Password</Label>\n                  <Input\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    placeholder=\"Password\"\n                    className=\"mb-3\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <Label for=\"name\">Rol</Label>\n                <Input\n                  type=\"text\"\n                  name=\"role\"\n                  id=\"role\"\n                  placeholder=\"Operador de planta\"\n                  onChange={this.onChange}\n                />\n\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                  Sign Up\n                </button>\n                {this.state.msg ? (\n                  <Alert color=\"danger\" className=\"mt-3\">\n                    {this.state.msg}\n                  </Alert>\n                ) : null}\n                <p className=\"forgot-password text-right\">\n                  Already registered <a href=\"/login\">sign in?</a>\n                </p>\n              </form>\n            </Card>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  success: state.auth.success,\n  error: state.error,\n});\nexport default withRouter(\n  connect(mapStateToProps, { register, clearErrors })(RegisterPage)\n);\n"]},"metadata":{},"sourceType":"module"}