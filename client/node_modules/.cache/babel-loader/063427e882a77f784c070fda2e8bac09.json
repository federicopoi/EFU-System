{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/klockner_tpm/client/src/auth-components/login/loginpage.jsx\";\nimport React, { Component } from \"react\";\nimport { Card } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { login } from \"../../store/actions/authActions\";\nimport { clearErrors } from \"../../store/actions/errorActions\";\nimport { Label, Input, Alert } from \"reactstrap\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport \"./loginpage.css\";\nexport class LoginPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      msg: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n      const user = {\n        email,\n        password\n      }; //Attempt to login\n\n      if (window.location.href !== \"https://klockner-tpm.herokuapp.com/login\") {\n        this.props.login(user);\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error,\n      isAuthenticated\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      //Check for login error\n      if (error.id === \"LOGIN_FAIL\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n\n    if (isAuthenticated) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row align-items-center h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      autocomplete: \"off\",\n      placeholder: \"email@example.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, \"Login\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  error: state.error,\n  user: state.auth.user,\n  users: state.users\n});\n\nexport default withRouter(connect(mapStateToProps, {\n  login,\n  clearErrors\n})(LoginPage));","map":{"version":3,"sources":["/Users/fedepoi/klockner_tpm/client/src/auth-components/login/loginpage.jsx"],"names":["React","Component","Card","connect","PropTypes","login","clearErrors","Label","Input","Alert","withRouter","Redirect","LoginPage","state","email","password","msg","onChange","e","setState","target","name","value","onSubmit","preventDefault","user","window","location","href","props","componentDidUpdate","prevProps","error","isAuthenticated","id","history","push","render","mapStateToProps","auth","users"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Card } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { login } from \"../../store/actions/authActions\";\nimport { clearErrors } from \"../../store/actions/errorActions\";\nimport { Label, Input, Alert } from \"reactstrap\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport \"./loginpage.css\";\n\nexport class LoginPage extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    msg: null,\n  };\n\n  componentDidUpdate(prevProps) {\n    const { error, isAuthenticated } = this.props;\n    if (error !== prevProps.error) {\n      //Check for login error\n      if (error.id === \"LOGIN_FAIL\") {\n        this.setState({\n          msg: error.msg.msg,\n        });\n      } else {\n        this.setState({\n          msg: null,\n        });\n      }\n    }\n    if (isAuthenticated) {\n      this.props.history.push(\"/\");\n    }\n  }\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { email, password } = this.state;\n\n    const user = {\n      email,\n      password,\n    };\n    //Attempt to login\n    if (window.location.href !== \"https://klockner-tpm.herokuapp.com/login\") {\n      this.props.login(user);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"container h-100\">\n        <div className=\"row align-items-center h-100\">\n          <div className=\"col-6 mx-auto\">\n            <h1>Login</h1>\n            <form>\n              <div class=\"row\">\n                <label for=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  autocomplete=\"off\"\n                  placeholder=\"email@example.com\"\n                ></input>\n              </div>\n              <div class=\"row\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" name=\"password\"></input>\n              </div>\n              <button type=\"submit\">Login</button>\n            </form>\n            {/* <Card className=\"px-5 py-5\">\n              <form onSubmit={this.onSubmit}>\n                <h3 className=\"mb-3 text-center\">Iniciar Sesión</h3>\n\n                <div className=\"form-group\">\n                  <Label for=\"legajo\">N° Legajo</Label>\n                  <Input\n                    type=\"number\"\n                    name=\"email\"\n                    id=\"email\"\n                    placeholder=\"N° Legajo\"\n                    className=\"mb-3\"\n                    onChange={this.onChange}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <Label for=\"pin\">Pin</Label>\n                  <Input\n                    type=\"number\"\n                    class=\"pin\"\n                    pattern=\"[0-9]*\"\n                    inputmode=\"numeric\"\n                    name=\"password\"\n                    id=\"password\"\n                    placeholder=\"Pin\"\n                    className=\"mb-3\"\n                    onChange={this.onChange}\n                  />\n                </div>\n\n                {this.state.msg ? (\n                  <Alert color=\"danger\" className=\"mt-3\">\n                    {this.state.msg}\n                  </Alert>\n                ) : null}\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary btn-block mt-3\"\n                >\n                  Login\n                </button>\n              </form>\n            </Card> */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  error: state.error,\n  user: state.auth.user,\n  users: state.users,\n});\nexport default withRouter(\n  connect(mapStateToProps, { login, clearErrors })(LoginPage)\n);\n"]},"metadata":{},"sourceType":"module"}