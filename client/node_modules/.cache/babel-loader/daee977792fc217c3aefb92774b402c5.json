{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/klockner_tpm/client/src/components/tarjetas/MisTarjetas.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { loadUser } from \"../../store/actions/authActions\";\nimport { Card, CardBody, Row, Col, Table, Button, Container } from \"reactstrap\";\nimport moment from \"moment\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { Grid, List, AutoSizer, ScrollSync, ColumnSizer } from \"react-virtualized\";\nconst height = 700;\nconst rowHeight = 40;\nconst width = 1000;\n\nconst useSortableData = (items, config = null) => {\n  const [sortConfig, setSortConfig] = React.useState(config);\n  const sortedItems = React.useMemo(() => {\n    let sortableItems = [...items];\n\n    if (sortConfig !== null) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? -1 : 1;\n        }\n\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? 1 : -1;\n        }\n\n        return 0;\n      });\n    }\n\n    return sortableItems;\n  }, [items, sortConfig]);\n\n  const requestSort = key => {\n    let direction = \"ascending\";\n\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === \"ascending\") {\n      direction = \"descending\";\n    }\n\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n\n  return {\n    items: sortedItems,\n    requestSort,\n    sortConfig\n  };\n};\n\nexport const TarjetasTable = props => {\n  const {\n    items,\n    requestSort,\n    sortConfig\n  } = useSortableData(props.tarjetas);\n\n  const getClassNamesFor = name => {\n    if (!sortConfig) {\n      return;\n    }\n\n    return sortConfig.key === name ? sortConfig.direction : undefined;\n  }; // const rowRenderer = ({ index, isScrolling, key, style }) => {\n  //   const timeDiferrence = moment().diff(items[index].fecha, \"days\");\n  //   return (\n  //     <div key={key} style={style}>\n  //       <Col>\n  //         {items[index].numero}\n  //         {items[index].color === \"Azul\" ? items[index].color : null}\n  //         {items[index].color === \"Roja\" ? items[index].color : null}\n  //         {items[index].color === \"Verde\" ? items[index].color : null}\n  //         {items[index].color === \"Amarilla\" ? items[index].color : null}\n  //         {items[index].equipo}\n  //         <td>\n  //           {items[index].prioridad}\n  //           {items[index].prioridad === \"Alta\" &&\n  //             items[index].estado === \"Abierta\" &&\n  //             timeDiferrence >= 15 && (\n  //               <li className=\"border-0 p-0 text-danger list-inline-item\">\n  //                 ⚠️\n  //               </li>\n  //             )}\n  //           {items[index].prioridad === \"Media\" &&\n  //             items[index].estado === \"Abierta\" &&\n  //             timeDiferrence >= 30 && (\n  //               <li className=\"border-0 p-0 text-danger list-inline-item\">\n  //                 ⚠️\n  //               </li>\n  //             )}\n  //           {items[index].prioridad === \"Baja\" &&\n  //             items[index].estado === \"Abierta\" &&\n  //             timeDiferrence >= 60 && (\n  //               <li className=\"border-0 p-0 text-danger list-inline-item\">\n  //                 ⚠️\n  //               </li>\n  //             )}\n  //         </td>\n  //         <td>{moment(items[index].fecha).format(\"DD/MM/YYYY LTS\")}</td>\n  //         <td>{items[index].descripcion}</td>\n  //         <td>{items[index].estado}</td>\n  //         <td>\n  //           <Link to={{ pathname: `/tarjeta/${items[index]._id}` }}>\n  //             <Button\n  //               color=\"success\"\n  //               className=\"btn bg-secondary border border-secondary\"\n  //             >\n  //               Ver detalle\n  //             </Button>\n  //           </Link>\n  //         </td>\n  //       </Col>\n  //     </div>\n  //   );\n  // };\n\n\n  const getCellValue = (columnIndex, rowIndex) => {\n    return \"TEST\" + rowIndex + columnIndex;\n  };\n\n  const cellRenderer = ({\n    columnIndex,\n    key,\n    rowIndex,\n    style\n  }) => {\n    let val = this.getCellValue(columnIndex, rowIndex);\n    if (rowIndex % 2 === 0) style.backgroundColor = \"white\";else style.backgroundColor = \"#f0f0f0\";\n    style.padding = 3;\n    style.width = this.props.columns[columnIndex].width;\n    style.borderLeftWidth = 1;\n    style.borderRightWidth = 1;\n    style.borderLeftStyle = \"solid\";\n    style.borderRightStyle = \"solid\";\n    style.borderLeftColor = \"#f0f0f0\";\n    style.borderRightColor = \"#f0f0f0\";\n    style.borderCollapse = \"collapse\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: key,\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, val);\n  };\n\n  const rowRenderer = ({\n    key,\n    rowIndex,\n    style\n  }) => {\n    let cols = [];\n\n    for (let i = 0; i < 10; i++) {\n      let style = {};\n      style.width = 10[i].width;\n      style.textAlign = \"center\";\n      style.borderLeftWidth = 1;\n      style.borderRightWidth = 1;\n      style.borderLeftStyle = \"solid\";\n      style.borderRightStyle = \"solid\";\n      style.borderLeftColor = \"#f0f0f0\";\n      style.borderRightColor = \"#f0f0f0\";\n      style.borderCollapse = \"collapse\";\n      style.padding = 3;\n      style.textTransform = \"uppercase\";\n      cols.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: key + \"col\" + i,\n        style: style,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }\n      }, \"COLUMN\" + i));\n    }\n\n    style.display = \"flex\";\n    style.backgroundColor = \"#b7cfea\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: key,\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }\n    }, cols);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-wrapper d-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-sm-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 23\n    }\n  }, \"Tarjetas\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto d-sm-flex no-block align-items-center mb-3 d-sm-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"font-weight-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, \"Todas las tarjetas en la base de datos\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto d-sm-flex no-block align-items-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/agregartarjeta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }, \"Agregar Tarjeta\"))))))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"uxm-report-grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AutoSizer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, ({\n    height,\n    width\n  }) => /*#__PURE__*/React.createElement(ScrollSync, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 23\n    }\n  }, ({\n    clientHeight,\n    clientWidth,\n    onScroll,\n    scrollHeight,\n    scrollLeft,\n    scrollTop,\n    scrollWidth\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LeftColumn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    key: \"List\",\n    scrollTop: scrollTop,\n    rowHeight: 20,\n    rowCount: 1,\n    width: 100,\n    height: 20,\n    width: width,\n    rowRenderer: rowRenderer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 31\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RightColumn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    key: \"Grid\",\n    onScroll: onScroll,\n    cellRenderer: cellRenderer,\n    columnCount: 10,\n    columnWidth: 100,\n    height: 500,\n    width: width,\n    rowHeight: 20,\n    rowCount: this.props.rows.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 31\n    }\n  }))))))))))));\n};\nexport class MisTarjetas extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.loadUser(); // this.recursive();\n\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    if (this.props.isAuthenticated === false && this.props.isLoading === false) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 14\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TarjetasTable, {\n      tarjetas: this.props.tarjetas.tarjetas,\n      user: this.props.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    tarjetas: state.tarjetas,\n    isAuthenticated: state.auth.isAuthenticated,\n    isLoading: state.auth.isLoading,\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getTarjetas,\n  loadUser\n})(MisTarjetas);","map":{"version":3,"sources":["/Users/fedepoi/klockner_tpm/client/src/components/tarjetas/MisTarjetas.jsx"],"names":["React","Component","connect","getTarjetas","loadUser","Card","CardBody","Row","Col","Table","Button","Container","moment","Link","Redirect","Grid","List","AutoSizer","ScrollSync","ColumnSizer","height","rowHeight","width","useSortableData","items","config","sortConfig","setSortConfig","useState","sortedItems","useMemo","sortableItems","sort","a","b","key","direction","requestSort","TarjetasTable","props","tarjetas","getClassNamesFor","name","undefined","getCellValue","columnIndex","rowIndex","cellRenderer","style","val","backgroundColor","padding","columns","borderLeftWidth","borderRightWidth","borderLeftStyle","borderRightStyle","borderLeftColor","borderRightColor","borderCollapse","rowRenderer","cols","i","textAlign","textTransform","push","display","clientHeight","clientWidth","onScroll","scrollHeight","scrollLeft","scrollTop","scrollWidth","rows","length","MisTarjetas","componentDidMount","window","scrollTo","render","isAuthenticated","isLoading","user","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { loadUser } from \"../../store/actions/authActions\";\nimport { Card, CardBody, Row, Col, Table, Button, Container } from \"reactstrap\";\nimport moment from \"moment\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport {\n  Grid,\n  List,\n  AutoSizer,\n  ScrollSync,\n  ColumnSizer,\n} from \"react-virtualized\";\n\nconst height = 700;\nconst rowHeight = 40;\nconst width = 1000;\n\nconst useSortableData = (items, config = null) => {\n  const [sortConfig, setSortConfig] = React.useState(config);\n\n  const sortedItems = React.useMemo(() => {\n    let sortableItems = [...items];\n    if (sortConfig !== null) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [items, sortConfig]);\n\n  const requestSort = (key) => {\n    let direction = \"ascending\";\n    if (\n      sortConfig &&\n      sortConfig.key === key &&\n      sortConfig.direction === \"ascending\"\n    ) {\n      direction = \"descending\";\n    }\n    setSortConfig({ key, direction });\n  };\n\n  return { items: sortedItems, requestSort, sortConfig };\n};\n\nexport const TarjetasTable = (props) => {\n  const { items, requestSort, sortConfig } = useSortableData(props.tarjetas);\n  const getClassNamesFor = (name) => {\n    if (!sortConfig) {\n      return;\n    }\n    return sortConfig.key === name ? sortConfig.direction : undefined;\n  };\n\n  // const rowRenderer = ({ index, isScrolling, key, style }) => {\n  //   const timeDiferrence = moment().diff(items[index].fecha, \"days\");\n  //   return (\n  //     <div key={key} style={style}>\n  //       <Col>\n  //         {items[index].numero}\n  //         {items[index].color === \"Azul\" ? items[index].color : null}\n  //         {items[index].color === \"Roja\" ? items[index].color : null}\n  //         {items[index].color === \"Verde\" ? items[index].color : null}\n  //         {items[index].color === \"Amarilla\" ? items[index].color : null}\n  //         {items[index].equipo}\n  //         <td>\n  //           {items[index].prioridad}\n\n  //           {items[index].prioridad === \"Alta\" &&\n  //             items[index].estado === \"Abierta\" &&\n  //             timeDiferrence >= 15 && (\n  //               <li className=\"border-0 p-0 text-danger list-inline-item\">\n  //                 ⚠️\n  //               </li>\n  //             )}\n  //           {items[index].prioridad === \"Media\" &&\n  //             items[index].estado === \"Abierta\" &&\n  //             timeDiferrence >= 30 && (\n  //               <li className=\"border-0 p-0 text-danger list-inline-item\">\n  //                 ⚠️\n  //               </li>\n  //             )}\n  //           {items[index].prioridad === \"Baja\" &&\n  //             items[index].estado === \"Abierta\" &&\n  //             timeDiferrence >= 60 && (\n  //               <li className=\"border-0 p-0 text-danger list-inline-item\">\n  //                 ⚠️\n  //               </li>\n  //             )}\n  //         </td>\n\n  //         <td>{moment(items[index].fecha).format(\"DD/MM/YYYY LTS\")}</td>\n  //         <td>{items[index].descripcion}</td>\n\n  //         <td>{items[index].estado}</td>\n  //         <td>\n  //           <Link to={{ pathname: `/tarjeta/${items[index]._id}` }}>\n  //             <Button\n  //               color=\"success\"\n  //               className=\"btn bg-secondary border border-secondary\"\n  //             >\n  //               Ver detalle\n  //             </Button>\n  //           </Link>\n  //         </td>\n  //       </Col>\n  //     </div>\n  //   );\n  // };\n\n  const getCellValue = (columnIndex, rowIndex) => {\n    return \"TEST\" + rowIndex + columnIndex;\n  };\n\n  const cellRenderer = ({ columnIndex, key, rowIndex, style }) => {\n    let val = this.getCellValue(columnIndex, rowIndex);\n\n    if (rowIndex % 2 === 0) style.backgroundColor = \"white\";\n    else style.backgroundColor = \"#f0f0f0\";\n\n    style.padding = 3;\n    style.width = this.props.columns[columnIndex].width;\n    style.borderLeftWidth = 1;\n    style.borderRightWidth = 1;\n    style.borderLeftStyle = \"solid\";\n    style.borderRightStyle = \"solid\";\n    style.borderLeftColor = \"#f0f0f0\";\n    style.borderRightColor = \"#f0f0f0\";\n    style.borderCollapse = \"collapse\";\n\n    return (\n      <div key={key} style={style}>\n        {val}\n      </div>\n    );\n  };\n\n  const rowRenderer = ({ key, rowIndex, style }) => {\n    let cols = [];\n    for (let i = 0; i < 10; i++) {\n      let style = {};\n      style.width = (10)[i].width;\n      style.textAlign = \"center\";\n      style.borderLeftWidth = 1;\n      style.borderRightWidth = 1;\n      style.borderLeftStyle = \"solid\";\n      style.borderRightStyle = \"solid\";\n      style.borderLeftColor = \"#f0f0f0\";\n      style.borderRightColor = \"#f0f0f0\";\n      style.borderCollapse = \"collapse\";\n      style.padding = 3;\n      style.textTransform = \"uppercase\";\n\n      cols.push(\n        <div key={key + \"col\" + i} style={style}>\n          {\"COLUMN\" + i}\n        </div>\n      );\n    }\n\n    style.display = \"flex\";\n    style.backgroundColor = \"#b7cfea\";\n\n    return (\n      <div key={key} style={style}>\n        {cols}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"page-wrapper d-block\">\n        <div className=\"page-content container-fluid\">\n          <Container>\n            <Row>\n              <Col>\n                <div className=\"d-sm-flex align-items-center\">\n                  <div className=\"\">\n                    <div>\n                      <h2 className=\"mb-3\">Tarjetas</h2>\n                    </div>\n\n                    <div className=\"ml-auto d-sm-flex no-block align-items-center mb-3 d-sm-flex\">\n                      <div className=\"dl\">\n                        <h5 className=\"font-weight-normal\">\n                          Todas las tarjetas en la base de datos\n                        </h5>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"ml-auto d-sm-flex no-block align-items-center mb-3\">\n                    <Col>\n                      <Link to=\"/agregartarjeta\">\n                        <Button color=\"success\" className=\"btn\">\n                          Agregar Tarjeta\n                        </Button>\n                      </Link>\n                    </Col>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n\n            <Card>\n              <CardBody>\n                <div className=\"uxm-report-grid-container\">\n                  <AutoSizer>\n                    {({ height, width }) => (\n                      <ScrollSync>\n                        {({\n                          clientHeight,\n                          clientWidth,\n                          onScroll,\n                          scrollHeight,\n                          scrollLeft,\n                          scrollTop,\n                          scrollWidth,\n                        }) => (\n                          <div className=\"Table\">\n                            <div className=\"LeftColumn\">\n                              <List\n                                key={\"List\"}\n                                scrollTop={scrollTop}\n                                rowHeight={20}\n                                rowCount={1}\n                                width={100}\n                                height={20}\n                                width={width}\n                                rowRenderer={rowRenderer}\n                              />\n                            </div>\n                            <div className=\"RightColumn\">\n                              <Grid\n                                key={\"Grid\"}\n                                onScroll={onScroll}\n                                cellRenderer={cellRenderer}\n                                columnCount={10}\n                                columnWidth={100}\n                                height={500}\n                                width={width}\n                                rowHeight={20}\n                                rowCount={this.props.rows.length}\n                              />\n                            </div>\n                          </div>\n                        )}\n                      </ScrollSync>\n                    )}\n                  </AutoSizer>\n                </div>\n              </CardBody>\n            </Card>\n          </Container>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport class MisTarjetas extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.loadUser();\n    // this.recursive();\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    if (this.props.isAuthenticated === false && this.props.isLoading === false)\n      return <Redirect to=\"/login\" />;\n\n    return (\n      <div>\n        <TarjetasTable\n          tarjetas={this.props.tarjetas.tarjetas}\n          user={this.props.user}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    tarjetas: state.tarjetas,\n    isAuthenticated: state.auth.isAuthenticated,\n    isLoading: state.auth.isLoading,\n    user: state.auth.user,\n  };\n};\nexport default connect(mapStateToProps, { getTarjetas, loadUser })(MisTarjetas);\n"]},"metadata":{},"sourceType":"module"}