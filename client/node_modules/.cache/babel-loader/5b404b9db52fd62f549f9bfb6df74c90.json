{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/tpm-project-mern/client/src/components/detalletarjeta/cerrartarjeta/CerrarTarjetaAmarillaModal.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { clearErrors } from \"../../../store/actions/errorActions\";\nimport { cerrarTarjetaAmarilla } from \"../../../store/actions/tarjetaActions\";\nimport { Button, Modal, ModalHeader, ModalBody, Form, Label, Input, FormGroup, Alert, Col, Row } from \"reactstrap\";\nexport class CerrarTarjetaAmarillaModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modal: false,\n      _id: this.props._id,\n      finReparacionDia: \"\",\n      finReparacionHora: \"\",\n      responsable: \"\",\n      tareaRealizada: \"\",\n      riesgoFinal: \"\",\n      verificacion: false,\n      accionesComplementarias: \"\",\n      convertida: false,\n      msg: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.toggle = () => {\n      // Clear errors\n      this.props.clearErrors();\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        _id,\n        finReparacionDia,\n        finReparacionHora,\n        responsable,\n        tareaRealizada,\n        convertida,\n        riesgoFinal,\n        verificacion,\n        accionesComplementarias\n      } = this.state; // Cerrar Tarjeta\n\n      const tarjetaActualizada = {\n        _id,\n        finReparacion: finReparacionDia + \" \" + finReparacionHora,\n        responsable,\n        tareaRealizada,\n        riesgoFinal,\n        verificacion,\n        accionesComplementarias,\n        convertida\n      };\n      this.props.cerrarTarjetaAmarilla(tarjetaActualizada);\n\n      if (!_id || !riesgoFinal || !finReparacionDia || !finReparacionHora || !responsable || !accionesComplementarias || !tareaRealizada) {\n        return null;\n      } else {\n        return this.toggle();\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      //Check for login error\n      console.log(error.msg.msg);\n\n      if (error.id === \"CERRAR_TARJETA_AMARILLA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, \"Cerrar Tarjeta\"), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, \"Cerrar Tarjeta\"), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"updaters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, \"Acci\\xF3n Realizada\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"tareaRealizada\",\n      id: \"tareaRealizada\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, \"Responsable\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"responsable\",\n      id: \"responsable\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"updaters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"Fecha de terminacion\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"date\",\n      name: \"finReparacionDia\",\n      id: \"finReparacionDia\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"time\",\n      name: \"finReparacionHora\",\n      id: \"finReparacionHora\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"updaters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Determinacion del Riesgo Final\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"riesgoFinal\",\n      id: \"riesgoFinal\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"updaters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, \"Acciones Complementarias\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"accionesComplementarias\",\n      id: \"accionesComplementarias\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      id: \"verificacion\",\n      name: \"verificacion\",\n      onChange: e => {\n        this.onChange({\n          target: {\n            name: e.target.name,\n            value: e.target.checked\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }), \"Verificaci\\xF3n: (Resp. Pilar de seguridad)\")), /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      id: \"convertida\",\n      name: \"convertida\",\n      onChange: e => {\n        this.onChange({\n          target: {\n            name: e.target.name,\n            value: e.target.checked\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }), \"Tarjeta Convertida\")), this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(Button, {\n      color: \"dark\",\n      block: true,\n      style: {\n        marginTop: \"2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, \"Subir\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  error: state.error\n});\n\nexport default connect(mapStateToProps, {\n  clearErrors,\n  cerrarTarjetaAmarilla\n})(CerrarTarjetaAmarillaModal);","map":{"version":3,"sources":["/Users/fedepoi/tpm-project-mern/client/src/components/detalletarjeta/cerrartarjeta/CerrarTarjetaAmarillaModal.jsx"],"names":["React","Component","connect","clearErrors","cerrarTarjetaAmarilla","Button","Modal","ModalHeader","ModalBody","Form","Label","Input","FormGroup","Alert","Col","Row","CerrarTarjetaAmarillaModal","state","modal","_id","props","finReparacionDia","finReparacionHora","responsable","tareaRealizada","riesgoFinal","verificacion","accionesComplementarias","convertida","msg","onChange","e","setState","target","name","value","toggle","onSubmit","preventDefault","tarjetaActualizada","finReparacion","componentDidUpdate","prevProps","error","console","log","id","render","checked","marginTop","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { clearErrors } from \"../../../store/actions/errorActions\";\nimport { cerrarTarjetaAmarilla } from \"../../../store/actions/tarjetaActions\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  Form,\n  Label,\n  Input,\n  FormGroup,\n  Alert,\n  Col,\n  Row,\n} from \"reactstrap\";\nexport class CerrarTarjetaAmarillaModal extends Component {\n  state = {\n    modal: false,\n    _id: this.props._id,\n    finReparacionDia: \"\",\n    finReparacionHora: \"\",\n    responsable: \"\",\n    tareaRealizada: \"\",\n    riesgoFinal: \"\",\n    verificacion: false,\n    accionesComplementarias: \"\",\n    convertida: false,\n    msg: null,\n  };\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  componentDidUpdate(prevProps) {\n    const { error } = this.props;\n    if (error !== prevProps.error) {\n      //Check for login error\n      console.log(error.msg.msg);\n      if (error.id === \"CERRAR_TARJETA_AMARILLA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg,\n        });\n      } else {\n        this.setState({\n          msg: null,\n        });\n      }\n    }\n  }\n  toggle = () => {\n    // Clear errors\n    this.props.clearErrors();\n    this.setState({\n      modal: !this.state.modal,\n    });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const {\n      _id,\n      finReparacionDia,\n      finReparacionHora,\n      responsable,\n      tareaRealizada,\n      convertida,\n      riesgoFinal,\n      verificacion,\n      accionesComplementarias,\n    } = this.state;\n\n    // Cerrar Tarjeta\n    const tarjetaActualizada = {\n      _id,\n      finReparacion: finReparacionDia + \" \" + finReparacionHora,\n      responsable,\n      tareaRealizada,\n      riesgoFinal,\n      verificacion,\n      accionesComplementarias,\n      convertida,\n    };\n\n    this.props.cerrarTarjetaAmarilla(tarjetaActualizada);\n    if (\n      !_id ||\n      !riesgoFinal ||\n      !finReparacionDia ||\n      !finReparacionHora ||\n      !responsable ||\n      !accionesComplementarias ||\n      !tareaRealizada\n    ) {\n      return null;\n    } else {\n      return this.toggle();\n    }\n  };\n  render() {\n    return (\n      <div>\n        <Button onClick={this.toggle}>Cerrar Tarjeta</Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>Cerrar Tarjeta</ModalHeader>\n          <ModalBody>\n            <Form onSubmit={this.onSubmit}>\n              <FormGroup>\n                <Label for=\"updaters\">Acción Realizada</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"tareaRealizada\"\n                  id=\"tareaRealizada\"\n                  className=\"mb-2\"\n                ></Input>\n                <Label for=\"responsable\">Responsable</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"responsable\"\n                  id=\"responsable\"\n                  className=\"mb-2\"\n                ></Input>\n                <Label for=\"updaters\">Fecha de terminacion</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"date\"\n                  name=\"finReparacionDia\"\n                  id=\"finReparacionDia\"\n                  className=\"mb-2\"\n                ></Input>\n                <Input\n                  onChange={this.onChange}\n                  type=\"time\"\n                  name=\"finReparacionHora\"\n                  id=\"finReparacionHora\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"updaters\">Determinacion del Riesgo Final</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"riesgoFinal\"\n                  id=\"riesgoFinal\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"updaters\">Acciones Complementarias</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"accionesComplementarias\"\n                  id=\"accionesComplementarias\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <FormGroup check>\n                  <Label check>\n                    <Input\n                      type=\"checkbox\"\n                      id=\"verificacion\"\n                      name=\"verificacion\"\n                      onChange={(e) => {\n                        this.onChange({\n                          target: {\n                            name: e.target.name,\n                            value: e.target.checked,\n                          },\n                        });\n                      }}\n                    />\n                    Verificación: (Resp. Pilar de seguridad)\n                  </Label>\n                </FormGroup>\n\n                <FormGroup check>\n                  <Label check>\n                    <Input\n                      type=\"checkbox\"\n                      id=\"convertida\"\n                      name=\"convertida\"\n                      onChange={(e) => {\n                        this.onChange({\n                          target: {\n                            name: e.target.name,\n                            value: e.target.checked,\n                          },\n                        });\n                      }}\n                    />\n                    Tarjeta Convertida\n                  </Label>\n                </FormGroup>\n\n                {this.state.msg ? (\n                  <Alert color=\"danger\" className=\"mt-3\">\n                    {this.state.msg}\n                  </Alert>\n                ) : null}\n                <Button color=\"dark\" block style={{ marginTop: \"2rem\" }}>\n                  Subir\n                </Button>\n              </FormGroup>\n            </Form>\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  error: state.error,\n});\nexport default connect(mapStateToProps, {\n  clearErrors,\n  cerrarTarjetaAmarilla,\n})(CerrarTarjetaAmarillaModal);\n"]},"metadata":{},"sourceType":"module"}