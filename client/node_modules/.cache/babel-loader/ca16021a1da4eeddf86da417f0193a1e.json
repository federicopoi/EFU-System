{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/klockner_tpm/client/src/components/tarjetas/MisTarjetas.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { loadUser } from \"../../store/actions/authActions\";\nimport { Card, CardBody, Row, Col, Table, Button, Container } from \"reactstrap\";\nimport moment from \"moment\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport MaterialTable from \"material-table\";\nexport class MisTarjetas extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.loadUser();\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    console.log(this.props.user);\n    if (this.props.isAuthenticated === false && this.props.isLoading === false) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 14\n      }\n    });\n    const {\n      tarjetas\n    } = this.props.tarjetas;\n\n    function customRender(value, renderType, renderFunc, field1, field2, ...args) {\n      if (renderType === \"row\") {\n        return renderFunc(value[field1], value[field2], ...args);\n      }\n\n      if (renderType === \"group\") {\n        return value;\n      }\n    }\n\n    function renderCellData(numero, _id) {\n      return /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: `/tarjeta/${_id}`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"mb-0 font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      }, numero));\n    }\n\n    function renderCellData2(color) {\n      return color === \"Verde\" && /*#__PURE__*/React.createElement(\"li\", {\n        className: \"border-0 p-0 text-success list-inline-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }), \" \", color) || color === \"Roja\" && /*#__PURE__*/React.createElement(\"li\", {\n        className: \"border-0 p-0 text-danger list-inline-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }), \" \", color) || color === \"Azul\" && /*#__PURE__*/React.createElement(\"li\", {\n        className: \"border-0 p-0 text-info list-inline-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }), \" \", color) || color === \"Amarilla\" && /*#__PURE__*/React.createElement(\"li\", {\n        className: \"border-0 p-0 text-warning list-inline-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }), \" \", color);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-wrapper d-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-content container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-sm-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 27\n      }\n    }, \"Tarjetas\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml-auto d-sm-flex no-block align-items-center mb-3 d-sm-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }, \"Todas las tarjetas en la base de datos\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml-auto d-sm-flex no-block align-items-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/agregartarjeta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"success\",\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, \"Agregar Tarjeta\"))), this.props.user.role && this.props.user.role === \"Admin\" && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/agregarkaizen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"warning\",\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 35\n      }\n    }, \"Agregar Quick Kaizen\")))))))), /*#__PURE__*/React.createElement(MaterialTable, {\n      title: \"\",\n      data: tarjetas,\n      options: {\n        filtering: true,\n        sorting: true,\n        exportButton: true,\n        search: true,\n        pageSize: 10,\n        emptyRowsWhenPaging: true,\n        pageSizeOptions: [10, 20, 100, tarjetas.length],\n        grouping: true\n      },\n      localization: {\n        pagination: {\n          labelDisplayedRows: \"{from}-{to} of {count}\",\n          labelRowsSelect: \"filas\"\n        },\n        toolbar: {\n          nRowsSelected: \"{0} row(s) selected\",\n          searchPlaceholder: \"Buscar\",\n          searchTooltip: \"Buscar\",\n          exportTitle: \"Exportar\",\n          exportAriaLabel: \"Exportar\"\n        },\n        grouping: {\n          placeholder: \"Arrastra los encabezados aqu√≠ para agruparlos por\"\n        },\n        header: {\n          actions: \"Acciones\"\n        },\n        body: {\n          emptyDataSourceMessage: \"Sin datos para mostrar\",\n          filterRow: {\n            filterTooltip: \"Filtrar\"\n          }\n        }\n      },\n      columns: [{\n        title: \"N¬∞\",\n        field: \"numero\",\n        render: (value, renderType) => customRender(value, renderType, renderCellData, \"numero\", \"_id\")\n      }, {\n        title: \"Color\",\n        field: \"color\",\n        render: (value, renderType) => customRender(value, renderType, renderCellData2, \"color\")\n      }, {\n        title: \"Equipo Autonomo\",\n        field: \"equipo\"\n      }, {\n        title: \"Prioridad\",\n        field: \"prioridad\"\n      }, {\n        title: \"Fecha apertura\",\n        field: \"fecha\",\n        render: rowData => moment(rowData.fecha).format(\"DD/MM/YYYY LTS\")\n      }, {\n        title: \"Descripci√≥n anomalia\",\n        field: \"descripcion\"\n      }, {\n        title: \"Estado actual\",\n        field: \"estado\"\n      }, {\n        title: \"\",\n        render: rowData => /*#__PURE__*/React.createElement(Link, {\n          to: {\n            pathname: `/tarjeta/${rowData._id}`\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          color: \"success\",\n          className: \"btn bg-secondary border border-secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 27\n          }\n        }, \"Ver detalle\"))\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    tarjetas: state.tarjetas,\n    isAuthenticated: state.auth.isAuthenticated,\n    isLoading: state.auth.isLoading,\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getTarjetas,\n  loadUser\n})(MisTarjetas);","map":{"version":3,"sources":["/Users/fedepoi/klockner_tpm/client/src/components/tarjetas/MisTarjetas.jsx"],"names":["React","Component","connect","getTarjetas","loadUser","Card","CardBody","Row","Col","Table","Button","Container","moment","Link","Redirect","MaterialTable","MisTarjetas","componentDidMount","props","window","scrollTo","render","console","log","user","isAuthenticated","isLoading","tarjetas","customRender","value","renderType","renderFunc","field1","field2","args","renderCellData","numero","_id","pathname","renderCellData2","color","role","filtering","sorting","exportButton","search","pageSize","emptyRowsWhenPaging","pageSizeOptions","length","grouping","pagination","labelDisplayedRows","labelRowsSelect","toolbar","nRowsSelected","searchPlaceholder","searchTooltip","exportTitle","exportAriaLabel","placeholder","header","actions","body","emptyDataSourceMessage","filterRow","filterTooltip","title","field","rowData","fecha","format","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { loadUser } from \"../../store/actions/authActions\";\nimport { Card, CardBody, Row, Col, Table, Button, Container } from \"reactstrap\";\nimport moment from \"moment\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport MaterialTable from \"material-table\";\n\nexport class MisTarjetas extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.loadUser();\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    console.log(this.props.user);\n    if (this.props.isAuthenticated === false && this.props.isLoading === false)\n      return <Redirect to=\"/login\" />;\n\n    const { tarjetas } = this.props.tarjetas;\n\n    function customRender(\n      value,\n      renderType,\n      renderFunc,\n      field1,\n      field2,\n      ...args\n    ) {\n      if (renderType === \"row\") {\n        return renderFunc(value[field1], value[field2], ...args);\n      }\n      if (renderType === \"group\") {\n        return value;\n      }\n    }\n    function renderCellData(numero, _id) {\n      return (\n        <Link to={{ pathname: `/tarjeta/${_id}` }}>\n          <h5 className=\"mb-0 font-16 font-medium\">{numero}</h5>\n        </Link>\n      );\n    }\n    function renderCellData2(color) {\n      return (\n        (color === \"Verde\" && (\n          <li className=\"border-0 p-0 text-success list-inline-item\">\n            <i className=\"fa fa-circle\"></i> {color}\n          </li>\n        )) ||\n        (color === \"Roja\" && (\n          <li className=\"border-0 p-0 text-danger list-inline-item\">\n            <i className=\"fa fa-circle\"></i> {color}\n          </li>\n        )) ||\n        (color === \"Azul\" && (\n          <li className=\"border-0 p-0 text-info list-inline-item\">\n            <i className=\"fa fa-circle\"></i> {color}\n          </li>\n        )) ||\n        (color === \"Amarilla\" && (\n          <li className=\"border-0 p-0 text-warning list-inline-item\">\n            <i className=\"fa fa-circle\"></i> {color}\n          </li>\n        ))\n      );\n    }\n\n    return (\n      <div>\n        <div>\n          <div className=\"page-wrapper d-block\">\n            <div className=\"page-content container-fluid\">\n              <Container>\n                <Row>\n                  <Col>\n                    <div className=\"d-sm-flex align-items-center\">\n                      <div className=\"\">\n                        <div>\n                          <h2 className=\"mb-3\">Tarjetas</h2>\n                        </div>\n\n                        <div className=\"ml-auto d-sm-flex no-block align-items-center mb-3 d-sm-flex\">\n                          <div className=\"dl\">\n                            <h5 className=\"font-weight-normal\">\n                              Todas las tarjetas en la base de datos\n                            </h5>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"ml-auto d-sm-flex no-block align-items-center mb-3\">\n                        <Col>\n                          <Link to=\"/agregartarjeta\">\n                            <Button color=\"success\" className=\"btn\">\n                              Agregar Tarjeta\n                            </Button>\n                          </Link>\n                        </Col>\n\n                        {this.props.user.role &&\n                          this.props.user.role === \"Admin\" && (\n                            <div>\n                              <Col>\n                                <Link to=\"/agregarkaizen\">\n                                  <Button color=\"warning\" className=\"btn\">\n                                    Agregar Quick Kaizen\n                                  </Button>\n                                </Link>\n                              </Col>\n                            </div>\n                          )}\n                      </div>\n                    </div>\n                  </Col>\n                </Row>\n\n                <MaterialTable\n                  title=\"\"\n                  data={tarjetas}\n                  options={{\n                    filtering: true,\n                    sorting: true,\n                    exportButton: true,\n                    search: true,\n                    pageSize: 10,\n                    emptyRowsWhenPaging: true,\n                    pageSizeOptions: [10, 20, 100, tarjetas.length],\n                    grouping: true,\n                  }}\n                  localization={{\n                    pagination: {\n                      labelDisplayedRows: \"{from}-{to} of {count}\",\n                      labelRowsSelect: \"filas\",\n                    },\n                    toolbar: {\n                      nRowsSelected: \"{0} row(s) selected\",\n                      searchPlaceholder: \"Buscar\",\n                      searchTooltip: \"Buscar\",\n                      exportTitle: \"Exportar\",\n                      exportAriaLabel: \"Exportar\",\n                    },\n                    grouping: {\n                      placeholder:\n                        \"Arrastra los encabezados aqu√≠ para agruparlos por\",\n                    },\n                    header: {\n                      actions: \"Acciones\",\n                    },\n                    body: {\n                      emptyDataSourceMessage: \"Sin datos para mostrar\",\n                      filterRow: {\n                        filterTooltip: \"Filtrar\",\n                      },\n                    },\n                  }}\n                  columns={[\n                    {\n                      title: \"N¬∞\",\n                      field: \"numero\",\n                      render: (value, renderType) =>\n                        customRender(\n                          value,\n                          renderType,\n                          renderCellData,\n                          \"numero\",\n                          \"_id\"\n                        ),\n                    },\n                    {\n                      title: \"Color\",\n                      field: \"color\",\n                      render: (value, renderType) =>\n                        customRender(\n                          value,\n                          renderType,\n                          renderCellData2,\n                          \"color\"\n                        ),\n                    },\n                    { title: \"Equipo Autonomo\", field: \"equipo\" },\n                    { title: \"Prioridad\", field: \"prioridad\" },\n                    {\n                      title: \"Fecha apertura\",\n                      field: \"fecha\",\n                      render: (rowData) =>\n                        moment(rowData.fecha).format(\"DD/MM/YYYY LTS\"),\n                    },\n                    { title: \"Descripci√≥n anomalia\", field: \"descripcion\" },\n                    {\n                      title: \"Estado actual\",\n                      field: \"estado\",\n                    },\n                    {\n                      title: \"\",\n                      render: (rowData) => (\n                        <Link to={{ pathname: `/tarjeta/${rowData._id}` }}>\n                          <Button\n                            color=\"success\"\n                            className=\"btn bg-secondary border border-secondary\"\n                          >\n                            Ver detalle\n                          </Button>\n                        </Link>\n                      ),\n                    },\n                  ]}\n                />\n              </Container>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    tarjetas: state.tarjetas,\n    isAuthenticated: state.auth.isAuthenticated,\n    isLoading: state.auth.isLoading,\n    user: state.auth.user,\n  };\n};\nexport default connect(mapStateToProps, { getTarjetas, loadUser })(MisTarjetas);\n"]},"metadata":{},"sourceType":"module"}