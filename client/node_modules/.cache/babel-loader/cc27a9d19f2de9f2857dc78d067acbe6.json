{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/efu-system/client/src/components/detalletarjeta/planificaciondetalle/PlanificacionDetalle.jsx\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Card, CardBody, CardTitle, CardSubtitle, Input, Table, Col, Row, Button, Form, FormGroup } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { agregarPlanificacion, getTarjetas } from \"../../../store/actions/tarjetaActions\";\nimport PlanificacionModal from \"./PlanificacionModal\";\nimport moment from \"moment\";\nexport class PlanificacionDetalle extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        descripcion,\n        autor\n      } = this.state;\n      const link = this.props.location.pathname;\n      const completeLink = link.replace(\"/tarjeta/\", \"\");\n      const nuevoComentario = {\n        _id: completeLink,\n        comentario: {\n          autor,\n          descripcion,\n          fecha: Date.now()\n        }\n      };\n\n      if (descripcion === \"\" || autor === \"\") {\n        console.log(\"Error\");\n      } else {\n        this.props.agregarComentario(nuevoComentario);\n        document.getElementById(\"form\").reset();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.props.getTarjetas();\n  }\n\n  render() {\n    const {\n      tarjetas\n    } = this.props.tarjetas;\n    const {\n      link_id\n    } = this.props;\n    const link = this.props.location.pathname;\n    const completeLink = link.replace(\"/tarjeta/\", \"\");\n    const plan = tarjetas && tarjetas.filter(({\n      _id\n    }) => _id === link_id).map(({\n      planificacion\n    }) => planificacion);\n    console.log(tarjetas);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, \" Planificaci\\xF3n del Tratamiento de Tarjetas\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ml-auto d-flex no-block align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, tarjetas && tarjetas.filter(({\n      _id\n    }) => _id === completeLink).map(({\n      previstaCierre,\n      responsableSeguimiento,\n      recursos,\n      materiales,\n      solicitudCompras,\n      comprometidaCompras,\n      tareaRealizar,\n      responsableTarea,\n      comentario1,\n      comentario2,\n      comentario3\n    }) => {\n      return /*#__PURE__*/React.createElement(PlanificacionModal, {\n        _id: link_id,\n        tarjeta: {\n          previstaCierre,\n          responsableSeguimiento,\n          recursos,\n          materiales,\n          solicitudCompras,\n          comprometidaCompras,\n          tareaRealizar,\n          responsableTarea,\n          comentario1,\n          comentario2,\n          comentario3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 33\n        }\n      });\n    })))))), tarjetas && tarjetas.filter(({\n      _id\n    }) => _id === completeLink).map(({\n      previstaCierre,\n      responsableSeguimiento,\n      recursos,\n      materiales,\n      solicitudCompras,\n      comprometidaCompras,\n      tareaRealizar,\n      responsableTarea,\n      comentario1,\n      comentario2,\n      comentario3\n    }) => {\n      previstaCierre !== undefined && console.log(\"true\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }\n      }, \"Fecha prevista de cierre\"), previstaCierre !== undefined && /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 31\n        }\n      }, moment(previstaCierre).format(\"DD/MM/YYYY\"))), /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }\n      }, \"Responsable del seguimiento\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 29\n        }\n      }, responsableSeguimiento)), /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 29\n        }\n      }, \"Recursos a utilizar\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }\n      }, recursos)), /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 29\n        }\n      }, \"Materiales/Repuestos necesarios\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 29\n        }\n      }, materiales))), /*#__PURE__*/React.createElement(Row, {\n        className: \"my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 29\n        }\n      }, \"Fecha solicitud a Compras\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 29\n        }\n      }, solicitudCompras !== undefined && /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 33\n        }\n      }, moment(solicitudCompras).format(\"DD/MM/YYYY\")))), /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 29\n        }\n      }, \"Fecha compromotida por Compras\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }\n      }, comprometidaCompras !== undefined && /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 33\n        }\n      }, moment(comprometidaCompras).format(\"DD/MM/YYYY\")))), /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 29\n        }\n      }, \"Tarea a realizar\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 29\n        }\n      }, tareaRealizar)), /*#__PURE__*/React.createElement(Col, {\n        sm: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }\n      }, \"Responsable de la tarea a realizar\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 29\n        }\n      }, responsableTarea))), /*#__PURE__*/React.createElement(\"hr\", {\n        className: \"mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        className: \"my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }\n      }, \"Comentario 1\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }, comentario1)), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 29\n        }\n      }, \"Comentario 2\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 29\n        }\n      }, comentario2)), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-16 font-medium\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 29\n        }\n      }, \"Comentario 3\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 29\n        }\n      }, comentario3))));\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    tarjetas: state.tarjetas\n  };\n};\n\nexport default connect(mapStateToProps, {\n  agregarPlanificacion,\n  getTarjetas\n})(withRouter(PlanificacionDetalle));","map":{"version":3,"sources":["/Users/fedepoi/efu-system/client/src/components/detalletarjeta/planificaciondetalle/PlanificacionDetalle.jsx"],"names":["React","Component","withRouter","Card","CardBody","CardTitle","CardSubtitle","Input","Table","Col","Row","Button","Form","FormGroup","connect","agregarPlanificacion","getTarjetas","PlanificacionModal","moment","PlanificacionDetalle","onChange","e","setState","target","name","value","onSubmit","preventDefault","descripcion","autor","state","link","props","location","pathname","completeLink","replace","nuevoComentario","_id","comentario","fecha","Date","now","console","log","agregarComentario","document","getElementById","reset","componentDidMount","render","tarjetas","link_id","plan","filter","map","planificacion","previstaCierre","responsableSeguimiento","recursos","materiales","solicitudCompras","comprometidaCompras","tareaRealizar","responsableTarea","comentario1","comentario2","comentario3","undefined","format","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n  Card,\n  CardBody,\n  CardTitle,\n  CardSubtitle,\n  Input,\n  Table,\n  Col,\n  Row,\n  Button,\n  Form,\n  FormGroup,\n} from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  agregarPlanificacion,\n  getTarjetas,\n} from \"../../../store/actions/tarjetaActions\";\nimport PlanificacionModal from \"./PlanificacionModal\";\nimport moment from \"moment\";\n\nexport class PlanificacionDetalle extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n  }\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { descripcion, autor } = this.state;\n    const link = this.props.location.pathname;\n    const completeLink = link.replace(\"/tarjeta/\", \"\");\n\n    const nuevoComentario = {\n      _id: completeLink,\n      comentario: {\n        autor,\n        descripcion,\n        fecha: Date.now(),\n      },\n    };\n\n    if (descripcion === \"\" || autor === \"\") {\n      console.log(\"Error\");\n    } else {\n      this.props.agregarComentario(nuevoComentario);\n      document.getElementById(\"form\").reset();\n    }\n  };\n  render() {\n    const { tarjetas } = this.props.tarjetas;\n    const { link_id } = this.props;\n    const link = this.props.location.pathname;\n    const completeLink = link.replace(\"/tarjeta/\", \"\");\n\n    const plan =\n      tarjetas &&\n      tarjetas\n        .filter(({ _id }) => _id === link_id)\n        .map(({ planificacion }) => planificacion);\n\n    console.log(tarjetas);\n    return (\n      <div>\n        <Card>\n          <CardBody>\n            <Row className=\"mb-3\">\n              <Col>\n                <div className=\"d-flex align-items-center\">\n                  <div>\n                    <h3> Planificación del Tratamiento de Tarjetas</h3>\n                  </div>\n\n                  <div className=\"ml-auto d-flex no-block align-items-center\">\n                    <div className=\"dl\">\n                      {tarjetas &&\n                        tarjetas\n\n                          .filter(({ _id }) => _id === completeLink)\n                          .map(\n                            ({\n                              previstaCierre,\n                              responsableSeguimiento,\n                              recursos,\n                              materiales,\n                              solicitudCompras,\n                              comprometidaCompras,\n                              tareaRealizar,\n                              responsableTarea,\n                              comentario1,\n                              comentario2,\n                              comentario3,\n                            }) => {\n                              return (\n                                <PlanificacionModal\n                                  _id={link_id}\n                                  tarjeta={{\n                                    previstaCierre,\n                                    responsableSeguimiento,\n                                    recursos,\n                                    materiales,\n                                    solicitudCompras,\n                                    comprometidaCompras,\n                                    tareaRealizar,\n                                    responsableTarea,\n                                    comentario1,\n                                    comentario2,\n                                    comentario3,\n                                  }}\n                                ></PlanificacionModal>\n                              );\n                            }\n                          )}\n                    </div>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n\n            {tarjetas &&\n              tarjetas\n                .filter(({ _id }) => _id === completeLink)\n                .map(\n                  ({\n                    previstaCierre,\n                    responsableSeguimiento,\n                    recursos,\n                    materiales,\n                    solicitudCompras,\n                    comprometidaCompras,\n                    tareaRealizar,\n                    responsableTarea,\n                    comentario1,\n                    comentario2,\n                    comentario3,\n                  }) => {\n                    previstaCierre !== undefined && console.log(\"true\");\n\n                    return (\n                      <div>\n                        <Row className=\"my-2\">\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Fecha prevista de cierre\n                            </h5>\n                            {previstaCierre !== undefined && (\n                              <p>\n                                {moment(previstaCierre).format(\"DD/MM/YYYY\")}\n                              </p>\n                            )}\n                          </Col>\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Responsable del seguimiento\n                            </h5>\n                            <p>{responsableSeguimiento}</p>\n                          </Col>\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Recursos a utilizar\n                            </h5>\n                            <p>{recursos}</p>\n                          </Col>\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Materiales/Repuestos necesarios\n                            </h5>\n                            <p>{materiales}</p>\n                          </Col>\n                        </Row>\n                        <Row className=\"my-2\">\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Fecha solicitud a Compras\n                            </h5>\n                            <p>\n                              {solicitudCompras !== undefined && (\n                                <p>\n                                  {moment(solicitudCompras).format(\n                                    \"DD/MM/YYYY\"\n                                  )}\n                                </p>\n                              )}\n                            </p>\n                          </Col>\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Fecha compromotida por Compras\n                            </h5>\n                            <p>\n                              {comprometidaCompras !== undefined && (\n                                <p>\n                                  {moment(comprometidaCompras).format(\n                                    \"DD/MM/YYYY\"\n                                  )}\n                                </p>\n                              )}\n                            </p>\n                          </Col>\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Tarea a realizar\n                            </h5>\n                            <p>{tareaRealizar}</p>\n                          </Col>\n                          <Col sm={3}>\n                            <h5 className=\"font-16 font-medium\">\n                              Responsable de la tarea a realizar\n                            </h5>\n                            <p>{responsableTarea}</p>\n                          </Col>\n                        </Row>\n                        <hr className=\"mt-3\"></hr>\n                        <Row className=\"my-2\">\n                          <Col>\n                            <h5 className=\"font-16 font-medium\">\n                              Comentario 1\n                            </h5>\n                            <p>{comentario1}</p>\n                          </Col>\n                          <Col>\n                            <h5 className=\"font-16 font-medium\">\n                              Comentario 2\n                            </h5>\n                            <p>{comentario2}</p>\n                          </Col>\n                          <Col>\n                            <h5 className=\"font-16 font-medium\">\n                              Comentario 3\n                            </h5>\n                            <p>{comentario3}</p>\n                          </Col>\n                        </Row>\n                      </div>\n                    );\n                  }\n                )}\n\n            {/* <hr className=\"mt-3\"></hr>\n            <Form onSubmit={this.onSubmit} id=\"form\">\n              <Row className=\"mb-1\">\n                <Col lg={8}>\n                  <FormGroup>\n                    <Input\n                      onChange={this.onChange}\n                      type=\"text\"\n                      name=\"descripcion\"\n                      id=\"descripcion\"\n                      placeholder=\"Añadir nuevo comentario\"\n                    />\n                  </FormGroup>\n                </Col>\n                <Col lg={2}>\n                  <FormGroup>\n                    <Input\n                      onChange={this.onChange}\n                      type=\"text\"\n                      name=\"autor\"\n                      id=\"autor\"\n                      placeholder=\"Autor\"\n                    />\n                  </FormGroup>\n                </Col>\n                <Col lg={2}>\n                  <Button className=\"bg-success border-success\">Subir</Button>\n                </Col>\n              </Row>\n            </Form> */}\n          </CardBody>\n        </Card>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    tarjetas: state.tarjetas,\n  };\n};\nexport default connect(mapStateToProps, { agregarPlanificacion, getTarjetas })(\n  withRouter(PlanificacionDetalle)\n);\n"]},"metadata":{},"sourceType":"module"}