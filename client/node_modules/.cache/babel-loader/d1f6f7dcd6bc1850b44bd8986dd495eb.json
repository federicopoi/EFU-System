{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/efu-system/client/src/components/detalletarjeta/planificaciondetalle/PlanificacionModal.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { clearErrors } from \"../../../store/actions/errorActions\";\nimport { agregarPlanificacion } from \"../../../store/actions/tarjetaActions\";\nimport { getCampos } from \"../../../store/actions/camposActions\";\nimport { Button, Modal, ModalHeader, ModalBody, Form, Label, Input, FormGroup, Alert } from \"reactstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nexport class PlanificacionModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modal: false,\n      _id: this.props._id,\n      previstaCierre: this.props.tarjeta.previstaCierre,\n      responsableSeguimiento: this.props.tarjeta.responsableSeguimiento,\n      recursos: this.props.tarjeta.recursos,\n      materiales: this.props.tarjeta.materiales,\n      solicitudCompras: this.props.tarjeta.solicitudCompras,\n      comprometidaCompras: this.props.tarjeta.comprometidaCompras,\n      tareaRealizar: this.props.tarjeta.tareaRealizar,\n      responsableTarea: this.props.tarjeta.responsableSeguimiento,\n      comentario1: this.props.tarjeta.comentario1,\n      comentario2: this.props.tarjeta.comentario2,\n      comentario3: this.props.tarjeta.comentario3,\n      planificacion: this.props.tarjeta.planificacion,\n      msg: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.toggle = () => {\n      // Clear errors\n      this.props.clearErrors();\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        _id,\n        previstaCierre,\n        responsableSeguimiento,\n        recursos,\n        materiales,\n        solicitudCompras,\n        comprometidaCompras,\n        tareaRealizar,\n        responsableTarea,\n        comentario1,\n        comentario2,\n        comentario3\n      } = this.state; // Planificar Tarjeta\n\n      const tarjetaActualizada = {\n        _id,\n        previstaCierre,\n        responsableSeguimiento,\n        recursos,\n        materiales,\n        solicitudCompras,\n        comprometidaCompras,\n        tareaRealizar,\n        responsableTarea,\n        comentario1,\n        comentario2,\n        comentario3\n      };\n      this.props.agregarPlanificacion(tarjetaActualizada);\n\n      if (!_id) {\n        return null;\n      } else {\n        return this.toggle();\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      //Check for login error\n      console.log(error.msg.msg);\n\n      if (error.id === \"PLANIFICACION_TARJETA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.props.getCampos();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.toggle,\n      color: \"success\",\n      style: {\n        cursor: \"pointer\"\n      },\n      className: \"my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, \"Planificar Tarjeta\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.toggle,\n      color: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, \"Planificar Tarjeta\"), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, \"Planificaci\\xF3n del Tratamiento de Tarjetas\"), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"updaters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, \"Fecha prevista de cierre\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"date\",\n      name: \"previstaCierre\",\n      defaultValue: moment(this.state.previstaCierre).format(\"DD/MM/YYYY\"),\n      id: \"previstaCierre\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Responsable del seguimiento\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"responsableSeguimiento\",\n      defaultValue: this.state.responsableSeguimiento,\n      id: \"responsableSeguimiento\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, \"Recursos a utilizar\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"recursos\",\n      defaultValue: this.state.recursos,\n      id: \"recursos\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, \"Materiales/Repuestos necesarios\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"materiales\",\n      defaultValue: this.state.materiales,\n      id: \"materiales\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"updaters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"Fecha solicitud a Compras\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"date\",\n      name: \"solicitudCompras\",\n      id: \"solicitudCompras\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"updaters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, \"Fecha comprometida por Compras\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"date\",\n      name: \"comprometidaCompras\",\n      id: \"comprometidaCompras\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, \"Tarea a realizar\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"tareaRealizar\",\n      id: \"tareaRealizar\",\n      defaultValue: this.state.tareaRealizar,\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, \"Responsible de la tarea a realizar\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"responsableTarea\",\n      id: \"responsableTarea\",\n      defaultValue: this.state.responsableTarea,\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }, \"Comentario 1/Fecha del comentario\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"comentario1\",\n      id: \"comentario1\",\n      defaultValue: this.state.comentario1,\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }, \"Comentario 2/Fecha del comentario\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"comentario2\",\n      id: \"comentario2\",\n      defaultValue: this.state.comentario2,\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"responsable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }\n    }, \"Comentario 3/Fecha del comentario\"), /*#__PURE__*/React.createElement(Input, {\n      onChange: this.onChange,\n      type: \"text\",\n      name: \"comentario3\",\n      id: \"comentario3\",\n      defaultValue: this.state.comentario3,\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    }), this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 19\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(Button, {\n      color: \"dark\",\n      block: true,\n      style: {\n        marginTop: \"2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }\n    }, \"Subir\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  error: state.error,\n  campos: state.campos\n});\n\nexport default connect(mapStateToProps, {\n  clearErrors,\n  agregarPlanificacion,\n  getCampos\n})(withRouter(PlanificacionModal));","map":{"version":3,"sources":["/Users/fedepoi/efu-system/client/src/components/detalletarjeta/planificaciondetalle/PlanificacionModal.jsx"],"names":["React","Component","connect","clearErrors","agregarPlanificacion","getCampos","Button","Modal","ModalHeader","ModalBody","Form","Label","Input","FormGroup","Alert","withRouter","moment","PlanificacionModal","state","modal","_id","props","previstaCierre","tarjeta","responsableSeguimiento","recursos","materiales","solicitudCompras","comprometidaCompras","tareaRealizar","responsableTarea","comentario1","comentario2","comentario3","planificacion","msg","onChange","e","setState","target","name","value","toggle","onSubmit","preventDefault","tarjetaActualizada","componentDidUpdate","prevProps","error","console","log","id","componentDidMount","render","cursor","format","marginTop","mapStateToProps","campos"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { clearErrors } from \"../../../store/actions/errorActions\";\nimport { agregarPlanificacion } from \"../../../store/actions/tarjetaActions\";\nimport { getCampos } from \"../../../store/actions/camposActions\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  Form,\n  Label,\n  Input,\n  FormGroup,\n  Alert,\n} from \"reactstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport moment from \"moment\";\nexport class PlanificacionModal extends Component {\n  state = {\n    modal: false,\n    _id: this.props._id,\n    previstaCierre: this.props.tarjeta.previstaCierre,\n    responsableSeguimiento: this.props.tarjeta.responsableSeguimiento,\n    recursos: this.props.tarjeta.recursos,\n    materiales: this.props.tarjeta.materiales,\n    solicitudCompras: this.props.tarjeta.solicitudCompras,\n    comprometidaCompras: this.props.tarjeta.comprometidaCompras,\n    tareaRealizar: this.props.tarjeta.tareaRealizar,\n    responsableTarea: this.props.tarjeta.responsableSeguimiento,\n    comentario1: this.props.tarjeta.comentario1,\n    comentario2: this.props.tarjeta.comentario2,\n    comentario3: this.props.tarjeta.comentario3,\n    planificacion: this.props.tarjeta.planificacion,\n    msg: null,\n  };\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  componentDidUpdate(prevProps) {\n    const { error } = this.props;\n    if (error !== prevProps.error) {\n      //Check for login error\n      console.log(error.msg.msg);\n      if (error.id === \"PLANIFICACION_TARJETA_ERROR\") {\n        this.setState({\n          msg: error.msg.msg,\n        });\n      } else {\n        this.setState({\n          msg: null,\n        });\n      }\n    }\n  }\n  toggle = () => {\n    // Clear errors\n    this.props.clearErrors();\n    this.setState({\n      modal: !this.state.modal,\n    });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const {\n      _id,\n      previstaCierre,\n      responsableSeguimiento,\n      recursos,\n      materiales,\n      solicitudCompras,\n      comprometidaCompras,\n      tareaRealizar,\n      responsableTarea,\n      comentario1,\n      comentario2,\n      comentario3,\n    } = this.state;\n\n    // Planificar Tarjeta\n    const tarjetaActualizada = {\n      _id,\n      previstaCierre,\n      responsableSeguimiento,\n      recursos,\n      materiales,\n      solicitudCompras,\n      comprometidaCompras,\n      tareaRealizar,\n      responsableTarea,\n      comentario1,\n      comentario2,\n      comentario3,\n    };\n\n    this.props.agregarPlanificacion(tarjetaActualizada);\n\n    if (!_id) {\n      return null;\n    } else {\n      return this.toggle();\n    }\n  };\n  componentDidMount() {\n    this.props.getCampos();\n  }\n  render() {\n    return (\n      <div>\n        <p\n          onClick={this.toggle}\n          color=\"success\"\n          style={{ cursor: \"pointer\" }}\n          className=\"my-3\"\n        >\n          Planificar Tarjeta\n        </p>\n        <Button onClick={this.toggle} color=\"success\">\n          Planificar Tarjeta\n        </Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>\n            Planificación del Tratamiento de Tarjetas\n          </ModalHeader>\n          <ModalBody>\n            <Form onSubmit={this.onSubmit}>\n              <FormGroup>\n                <Label for=\"updaters\">Fecha prevista de cierre</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"date\"\n                  name=\"previstaCierre\"\n                  defaultValue={moment(this.state.previstaCierre).format(\n                    \"DD/MM/YYYY\"\n                  )}\n                  id=\"previstaCierre\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"responsable\">Responsable del seguimiento</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"responsableSeguimiento\"\n                  defaultValue={this.state.responsableSeguimiento}\n                  id=\"responsableSeguimiento\"\n                  className=\"mb-2\"\n                ></Input>\n                <Label for=\"responsable\">Recursos a utilizar</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"recursos\"\n                  defaultValue={this.state.recursos}\n                  id=\"recursos\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"responsable\">Materiales/Repuestos necesarios</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"materiales\"\n                  defaultValue={this.state.materiales}\n                  id=\"materiales\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"updaters\">Fecha solicitud a Compras</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"date\"\n                  name=\"solicitudCompras\"\n                  id=\"solicitudCompras\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"updaters\">Fecha comprometida por Compras</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"date\"\n                  name=\"comprometidaCompras\"\n                  id=\"comprometidaCompras\"\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"responsable\">Tarea a realizar</Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"tareaRealizar\"\n                  id=\"tareaRealizar\"\n                  defaultValue={this.state.tareaRealizar}\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"responsable\">\n                  Responsible de la tarea a realizar\n                </Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"responsableTarea\"\n                  id=\"responsableTarea\"\n                  defaultValue={this.state.responsableTarea}\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"responsable\">\n                  Comentario 1/Fecha del comentario\n                </Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"comentario1\"\n                  id=\"comentario1\"\n                  defaultValue={this.state.comentario1}\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"responsable\">\n                  Comentario 2/Fecha del comentario\n                </Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"comentario2\"\n                  id=\"comentario2\"\n                  defaultValue={this.state.comentario2}\n                  className=\"mb-2\"\n                ></Input>\n\n                <Label for=\"responsable\">\n                  Comentario 3/Fecha del comentario\n                </Label>\n                <Input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  name=\"comentario3\"\n                  id=\"comentario3\"\n                  defaultValue={this.state.comentario3}\n                  className=\"mb-2\"\n                ></Input>\n\n                {this.state.msg ? (\n                  <Alert color=\"danger\" className=\"mt-3\">\n                    {this.state.msg}\n                  </Alert>\n                ) : null}\n                <Button color=\"dark\" block style={{ marginTop: \"2rem\" }}>\n                  Subir\n                </Button>\n              </FormGroup>\n            </Form>\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  error: state.error,\n  campos: state.campos,\n});\nexport default connect(mapStateToProps, {\n  clearErrors,\n  agregarPlanificacion,\n  getCampos,\n})(withRouter(PlanificacionModal));\n"]},"metadata":{},"sourceType":"module"}