{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/klockner_tpm/client/src/components/tarjetas/MisTarjetas.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { loadUser } from \"../../store/actions/authActions\";\nimport { Card, CardBody, Row, Col, Table, Button, Container } from \"reactstrap\";\nimport moment from \"moment\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport MaterialTable from \"material-table\";\n\nconst useSortableData = (items, config = null) => {\n  const [sortConfig, setSortConfig] = React.useState(config);\n  const sortedItems = React.useMemo(() => {\n    let sortableItems = [...items];\n\n    if (sortConfig !== null) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? -1 : 1;\n        }\n\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? 1 : -1;\n        }\n\n        return 0;\n      });\n    }\n\n    return sortableItems;\n  }, [items, sortConfig]);\n\n  const requestSort = key => {\n    let direction = \"ascending\";\n\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === \"ascending\") {\n      direction = \"descending\";\n    }\n\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n\n  return {\n    items: sortedItems,\n    requestSort,\n    sortConfig\n  };\n};\n\nexport const TarjetasTable = props => {\n  const {\n    items,\n    requestSort,\n    sortConfig\n  } = useSortableData(props.tarjetas);\n\n  const getClassNamesFor = name => {\n    if (!sortConfig) {\n      return;\n    }\n\n    return sortConfig.key === name ? sortConfig.direction : undefined;\n  };\n\n  const [count, setCount] = React.useState({\n    prev: 0,\n    next: items.length / 10\n  });\n  const [hasMore, setHasMore] = React.useState(true);\n  const [current, setCurrent] = React.useState(items.slice(count.prev, count.next));\n\n  const getMoreData = () => {\n    if (current.length === items.length) {\n      setHasMore(false);\n      return;\n    }\n\n    setTimeout(() => {\n      setCurrent(current.concat(items.slice(count.prev + items.length / 10, count.next + items.length / 10)));\n    }, 2000);\n    setCount(prevState => ({\n      prev: prevState.prev + items.length / 10,\n      next: prevState.next + items.length / 10\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-wrapper d-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-content container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-sm-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }, \"Tarjetas\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto d-sm-flex no-block align-items-center mb-3 d-sm-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"font-weight-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Todas las tarjetas en la base de datos\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto d-sm-flex no-block align-items-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/agregartarjeta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Agregar Tarjeta\"))))))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Remote Data Preview\",\n    data: items,\n    columns: [{\n      title: \"Id\",\n      field: \"id\"\n    }, {\n      title: \"Numero\",\n      field: \"numero\"\n    }, {\n      title: \"Color\",\n      field: \"color\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    className: \"no-wrap v-middle\",\n    responsive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n    dataLength: current.length,\n    next: getMoreData,\n    hasMore: hasMore,\n    loader: /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }, \"Cargando...\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 27\n    }\n  }, \"N\\xB0\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: () => requestSort(\"numero\"),\n    className: getClassNamesFor(\"numero\"),\n    color: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 27\n    }\n  }, \"Color\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: () => requestSort(\"color\"),\n    className: getClassNamesFor(\"color\"),\n    color: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 27\n    }\n  }, \"Equipo autonomo\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: () => requestSort(\"equipo\"),\n    className: getClassNamesFor(\"equipo\"),\n    color: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 27\n    }\n  }, \"Prioridad\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: () => requestSort(\"prioridad\"),\n    className: getClassNamesFor(\"prioridad\"),\n    color: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 27\n    }\n  }, \"Fecha apertura\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: () => requestSort(\"fecha\"),\n    color: \"link\",\n    className: getClassNamesFor(\"fecha\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 27\n    }\n  }, \"Descripcion anomalia\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: () => requestSort(\"descripcion\"),\n    color: \"link\",\n    className: getClassNamesFor(\"descripcion\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 27\n    }\n  }, \"Estado actual\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: () => requestSort(\"estado\"),\n    color: \"link\",\n    className: getClassNamesFor(\"estado\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  })))), current && current.map(({\n    numero,\n    color,\n    prioridad,\n    equipo,\n    fecha,\n    descripcion,\n    estado,\n    _id\n  }) => {\n    const timeDiferrence = moment().diff(fecha, \"days\");\n    return /*#__PURE__*/React.createElement(\"tbody\", {\n      key: _id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex no-block align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/tarjeta/${_id}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-0 font-16 font-medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 43\n      }\n    }, numero))))), color === \"Azul\" ? /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border-0 p-0 text-info list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 41\n      }\n    }), \" \", color)) : null, color === \"Roja\" ? /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border-0 p-0 text-danger list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 41\n      }\n    }), \" \", color)) : null, color === \"Verde\" ? /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border-0 p-0 text-success list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 41\n      }\n    }), \" \", color)) : null, color === \"Amarilla\" ? /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border-0 p-0 text-warning list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 41\n      }\n    }), \" \", color)) : null, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 35\n      }\n    }, equipo), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 35\n      }\n    }, prioridad, prioridad === \"Alta\" && estado === \"Abierta\" && timeDiferrence >= 15 && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border-0 p-0 text-danger list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 41\n      }\n    }, \"\\u26A0\\uFE0F\"), prioridad === \"Media\" && estado === \"Abierta\" && timeDiferrence >= 30 && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border-0 p-0 text-danger list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 41\n      }\n    }, \"\\u26A0\\uFE0F\"), prioridad === \"Baja\" && estado === \"Abierta\" && timeDiferrence >= 60 && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"border-0 p-0 text-danger list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 41\n      }\n    }, \"\\u26A0\\uFE0F\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 35\n      }\n    }, moment(fecha).format(\"DD/MM/YYYY LTS\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 35\n      }\n    }, descripcion), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 35\n      }\n    }, estado), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/tarjeta/${_id}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"success\",\n      className: \"btn bg-secondary border border-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 39\n      }\n    }, \"Ver detalle\")))));\n  }))))))))));\n};\nexport class MisTarjetas extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.loadUser();\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    if (this.props.isAuthenticated === false && this.props.isLoading === false) return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 14\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TarjetasTable, {\n      tarjetas: this.props.tarjetas.tarjetas,\n      user: this.props.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    tarjetas: state.tarjetas,\n    isAuthenticated: state.auth.isAuthenticated,\n    isLoading: state.auth.isLoading,\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getTarjetas,\n  loadUser\n})(MisTarjetas);","map":{"version":3,"sources":["/Users/fedepoi/klockner_tpm/client/src/components/tarjetas/MisTarjetas.jsx"],"names":["React","Component","connect","getTarjetas","loadUser","Card","CardBody","Row","Col","Table","Button","Container","moment","Link","Redirect","InfiniteScroll","MaterialTable","useSortableData","items","config","sortConfig","setSortConfig","useState","sortedItems","useMemo","sortableItems","sort","a","b","key","direction","requestSort","TarjetasTable","props","tarjetas","getClassNamesFor","name","undefined","count","setCount","prev","next","length","hasMore","setHasMore","current","setCurrent","slice","getMoreData","setTimeout","concat","prevState","title","field","map","numero","color","prioridad","equipo","fecha","descripcion","estado","_id","timeDiferrence","diff","pathname","format","MisTarjetas","componentDidMount","window","scrollTo","render","isAuthenticated","isLoading","user","mapStateToProps","state","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,oCAA5B;AACA,SAASC,QAAT,QAAyB,iCAAzB;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,KAAnC,EAA0CC,MAA1C,EAAkDC,SAAlD,QAAmE,YAAnE;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,aAAP,MAA0B,gBAA1B;;AAEA,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAQC,MAAM,GAAG,IAAjB,KAA0B;AAChD,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BrB,KAAK,CAACsB,QAAN,CAAeH,MAAf,CAApC;AAEA,QAAMI,WAAW,GAAGvB,KAAK,CAACwB,OAAN,CAAc,MAAM;AACtC,QAAIC,aAAa,GAAG,CAAC,GAAGP,KAAJ,CAApB;;AACA,QAAIE,UAAU,KAAK,IAAnB,EAAyB;AACvBK,MAAAA,aAAa,CAACC,IAAd,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC3B,YAAID,CAAC,CAACP,UAAU,CAACS,GAAZ,CAAD,GAAoBD,CAAC,CAACR,UAAU,CAACS,GAAZ,CAAzB,EAA2C;AACzC,iBAAOT,UAAU,CAACU,SAAX,KAAyB,WAAzB,GAAuC,CAAC,CAAxC,GAA4C,CAAnD;AACD;;AACD,YAAIH,CAAC,CAACP,UAAU,CAACS,GAAZ,CAAD,GAAoBD,CAAC,CAACR,UAAU,CAACS,GAAZ,CAAzB,EAA2C;AACzC,iBAAOT,UAAU,CAACU,SAAX,KAAyB,WAAzB,GAAuC,CAAvC,GAA2C,CAAC,CAAnD;AACD;;AACD,eAAO,CAAP;AACD,OARD;AASD;;AACD,WAAOL,aAAP;AACD,GAdmB,EAcjB,CAACP,KAAD,EAAQE,UAAR,CAdiB,CAApB;;AAgBA,QAAMW,WAAW,GAAIF,GAAD,IAAS;AAC3B,QAAIC,SAAS,GAAG,WAAhB;;AACA,QACEV,UAAU,IACVA,UAAU,CAACS,GAAX,KAAmBA,GADnB,IAEAT,UAAU,CAACU,SAAX,KAAyB,WAH3B,EAIE;AACAA,MAAAA,SAAS,GAAG,YAAZ;AACD;;AACDT,IAAAA,aAAa,CAAC;AAAEQ,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,CAAb;AACD,GAVD;;AAYA,SAAO;AAAEZ,IAAAA,KAAK,EAAEK,WAAT;AAAsBQ,IAAAA,WAAtB;AAAmCX,IAAAA;AAAnC,GAAP;AACD,CAhCD;;AAkCA,OAAO,MAAMY,aAAa,GAAIC,KAAD,IAAW;AACtC,QAAM;AAAEf,IAAAA,KAAF;AAASa,IAAAA,WAAT;AAAsBX,IAAAA;AAAtB,MAAqCH,eAAe,CAACgB,KAAK,CAACC,QAAP,CAA1D;;AACA,QAAMC,gBAAgB,GAAIC,IAAD,IAAU;AACjC,QAAI,CAAChB,UAAL,EAAiB;AACf;AACD;;AACD,WAAOA,UAAU,CAACS,GAAX,KAAmBO,IAAnB,GAA0BhB,UAAU,CAACU,SAArC,GAAiDO,SAAxD;AACD,GALD;;AAOA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBvC,KAAK,CAACsB,QAAN,CAAe;AACvCkB,IAAAA,IAAI,EAAE,CADiC;AAEvCC,IAAAA,IAAI,EAAEvB,KAAK,CAACwB,MAAN,GAAe;AAFkB,GAAf,CAA1B;AAKA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB5C,KAAK,CAACsB,QAAN,CAAe,IAAf,CAA9B;AACA,QAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwB9C,KAAK,CAACsB,QAAN,CAC5BJ,KAAK,CAAC6B,KAAN,CAAYT,KAAK,CAACE,IAAlB,EAAwBF,KAAK,CAACG,IAA9B,CAD4B,CAA9B;;AAGA,QAAMO,WAAW,GAAG,MAAM;AACxB,QAAIH,OAAO,CAACH,MAAR,KAAmBxB,KAAK,CAACwB,MAA7B,EAAqC;AACnCE,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACD;;AACDK,IAAAA,UAAU,CAAC,MAAM;AACfH,MAAAA,UAAU,CACRD,OAAO,CAACK,MAAR,CACEhC,KAAK,CAAC6B,KAAN,CACET,KAAK,CAACE,IAAN,GAAatB,KAAK,CAACwB,MAAN,GAAe,EAD9B,EAEEJ,KAAK,CAACG,IAAN,GAAavB,KAAK,CAACwB,MAAN,GAAe,EAF9B,CADF,CADQ,CAAV;AAQD,KATS,EASP,IATO,CAAV;AAUAH,IAAAA,QAAQ,CAAEY,SAAD,KAAgB;AACvBX,MAAAA,IAAI,EAAEW,SAAS,CAACX,IAAV,GAAiBtB,KAAK,CAACwB,MAAN,GAAe,EADf;AAEvBD,MAAAA,IAAI,EAAEU,SAAS,CAACV,IAAV,GAAiBvB,KAAK,CAACwB,MAAN,GAAe;AAFf,KAAhB,CAAD,CAAR;AAID,GAnBD;;AAqBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,8DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADF,CADF,CALF,CADF,eAcE;AAAK,IAAA,SAAS,EAAC,oDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,SAAS,EAAC,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,CADF,CAdF,CADF,CADF,CADF,eA8BE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,KAAK,EAAC,qBADR;AAEE,IAAA,IAAI,EAAExB,KAFR;AAGE,IAAA,OAAO,EAAE,CACP;AAAEkC,MAAAA,KAAK,EAAE,IAAT;AAAeC,MAAAA,KAAK,EAAE;AAAtB,KADO,EAEP;AAAED,MAAAA,KAAK,EAAE,QAAT;AAAmBC,MAAAA,KAAK,EAAE;AAA1B,KAFO,EAGP;AAAED,MAAAA,KAAK,EAAE,OAAT;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KAHO,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAUE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,kBAAjB;AAAoC,IAAA,UAAU,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AACE,IAAA,UAAU,EAAER,OAAO,CAACH,MADtB;AAEE,IAAA,IAAI,EAAEM,WAFR;AAGE,IAAA,OAAO,EAAEL,OAHX;AAIE,IAAA,MAAM,eAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAEE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE,MAAMZ,WAAW,CAAC,QAAD,CAF5B;AAGE,IAAA,SAAS,EAAEI,gBAAgB,CAAC,QAAD,CAH7B;AAIE,IAAA,KAAK,EAAC,MAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAUE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAEE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE,MAAMJ,WAAW,CAAC,OAAD,CAF5B;AAGE,IAAA,SAAS,EAAEI,gBAAgB,CAAC,OAAD,CAH7B;AAIE,IAAA,KAAK,EAAC,MAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAVF,eAmBE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAEE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE,MAAMJ,WAAW,CAAC,QAAD,CAF5B;AAGE,IAAA,SAAS,EAAEI,gBAAgB,CAAC,QAAD,CAH7B;AAIE,IAAA,KAAK,EAAC,MAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAnBF,eA4BE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE,MAAMJ,WAAW,CAAC,WAAD,CAF5B;AAGE,IAAA,SAAS,EAAEI,gBAAgB,CAAC,WAAD,CAH7B;AAIE,IAAA,KAAK,EAAC,MAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA5BF,eAsCE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAEE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE,MAAMJ,WAAW,CAAC,OAAD,CAF5B;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,SAAS,EAAEI,gBAAgB,CAAC,OAAD,CAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAtCF,eA+CE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE,MAAMJ,WAAW,CAAC,aAAD,CAF5B;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,SAAS,EAAEI,gBAAgB,CAAC,aAAD,CAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA/CF,eAwDE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAEE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE,MAAMJ,WAAW,CAAC,QAAD,CAF5B;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,SAAS,EAAEI,gBAAgB,CAAC,QAAD,CAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAxDF,CADF,CADF,EAqEGU,OAAO,IACNA,OAAO,CAACS,GAAR,CACE,CAAC;AACCC,IAAAA,MADD;AAECC,IAAAA,KAFD;AAGCC,IAAAA,SAHD;AAICC,IAAAA,MAJD;AAKCC,IAAAA,KALD;AAMCC,IAAAA,WAND;AAOCC,IAAAA,MAPD;AAQCC,IAAAA;AARD,GAAD,KASM;AACJ,UAAMC,cAAc,GAAGnD,MAAM,GAAGoD,IAAT,CAAcL,KAAd,EAAqB,MAArB,CAAvB;AACA,wBACE;AAAO,MAAA,GAAG,EAAEG,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AACE,MAAA,EAAE,EAAE;AAAEG,QAAAA,QAAQ,EAAG,YAAWH,GAAI;AAA5B,OADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGE;AAAI,MAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGP,MADH,CAHF,CADF,CADF,CADF,CADF,EAcGC,KAAK,KAAK,MAAV,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,yCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,OACoCA,KADpC,CADF,CADD,GAMG,IApBN,EAqBGA,KAAK,KAAK,MAAV,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,2CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,OACoCA,KADpC,CADF,CADD,GAMG,IA3BN,EA4BGA,KAAK,KAAK,OAAV,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,4CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,OACoCA,KADpC,CADF,CADD,GAMG,IAlCN,EAmCGA,KAAK,KAAK,UAAV,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,4CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,OACoCA,KADpC,CADF,CADD,GAMG,IAzCN,eA0CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKE,MAAL,CA1CF,eA2CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,SADH,EAGGA,SAAS,KAAK,MAAd,IACCI,MAAM,KAAK,SADZ,IAECE,cAAc,IAAI,EAFnB,iBAGG;AAAI,MAAA,SAAS,EAAC,2CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANN,EAUGN,SAAS,KAAK,OAAd,IACCI,MAAM,KAAK,SADZ,IAECE,cAAc,IAAI,EAFnB,iBAGG;AAAI,MAAA,SAAS,EAAC,2CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAbN,EAiBGN,SAAS,KAAK,MAAd,IACCI,MAAM,KAAK,SADZ,IAECE,cAAc,IAAI,EAFnB,iBAGG;AAAI,MAAA,SAAS,EAAC,2CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBApBN,CA3CF,eAqEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGnD,MAAM,CAAC+C,KAAD,CAAN,CAAcO,MAAd,CAAqB,gBAArB,CADH,CArEF,eAwEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKN,WAAL,CAxEF,eA0EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKC,MAAL,CA1EF,eA2EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE;AAAEI,QAAAA,QAAQ,EAAG,YAAWH,GAAI;AAA5B,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,KAAK,EAAC,SADR;AAEE,MAAA,SAAS,EAAC,0CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,CA3EF,CADF,CADF;AA0FD,GAtGH,CAtEJ,CANF,CADF,CAVF,CADF,CA9BF,CADF,CADF,CADF,CADF;AA4OD,CAnRM;AAqRP,OAAO,MAAMK,WAAN,SAA0BlE,SAA1B,CAAoC;AACzCmE,EAAAA,iBAAiB,GAAG;AAClB,SAAKnC,KAAL,CAAW9B,WAAX;AACA,SAAK8B,KAAL,CAAW7B,QAAX;AACAiE,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKtC,KAAL,CAAWuC,eAAX,KAA+B,KAA/B,IAAwC,KAAKvC,KAAL,CAAWwC,SAAX,KAAyB,KAArE,EACE,oBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAEF,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,QAAQ,EAAE,KAAKxC,KAAL,CAAWC,QAAX,CAAoBA,QADhC;AAEE,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWyC,IAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAQD;;AAnBwC;;AAqB3C,MAAMC,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACL1C,IAAAA,QAAQ,EAAE0C,KAAK,CAAC1C,QADX;AAELsC,IAAAA,eAAe,EAAEI,KAAK,CAACC,IAAN,CAAWL,eAFvB;AAGLC,IAAAA,SAAS,EAAEG,KAAK,CAACC,IAAN,CAAWJ,SAHjB;AAILC,IAAAA,IAAI,EAAEE,KAAK,CAACC,IAAN,CAAWH;AAJZ,GAAP;AAMD,CAPD;;AAQA,eAAexE,OAAO,CAACyE,eAAD,EAAkB;AAAExE,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAAlB,CAAP,CAAoD+D,WAApD,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getTarjetas } from \"../../store/actions/tarjetaActions\";\nimport { loadUser } from \"../../store/actions/authActions\";\nimport { Card, CardBody, Row, Col, Table, Button, Container } from \"reactstrap\";\nimport moment from \"moment\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport MaterialTable from \"material-table\";\n\nconst useSortableData = (items, config = null) => {\n  const [sortConfig, setSortConfig] = React.useState(config);\n\n  const sortedItems = React.useMemo(() => {\n    let sortableItems = [...items];\n    if (sortConfig !== null) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === \"ascending\" ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [items, sortConfig]);\n\n  const requestSort = (key) => {\n    let direction = \"ascending\";\n    if (\n      sortConfig &&\n      sortConfig.key === key &&\n      sortConfig.direction === \"ascending\"\n    ) {\n      direction = \"descending\";\n    }\n    setSortConfig({ key, direction });\n  };\n\n  return { items: sortedItems, requestSort, sortConfig };\n};\n\nexport const TarjetasTable = (props) => {\n  const { items, requestSort, sortConfig } = useSortableData(props.tarjetas);\n  const getClassNamesFor = (name) => {\n    if (!sortConfig) {\n      return;\n    }\n    return sortConfig.key === name ? sortConfig.direction : undefined;\n  };\n\n  const [count, setCount] = React.useState({\n    prev: 0,\n    next: items.length / 10,\n  });\n\n  const [hasMore, setHasMore] = React.useState(true);\n  const [current, setCurrent] = React.useState(\n    items.slice(count.prev, count.next)\n  );\n  const getMoreData = () => {\n    if (current.length === items.length) {\n      setHasMore(false);\n      return;\n    }\n    setTimeout(() => {\n      setCurrent(\n        current.concat(\n          items.slice(\n            count.prev + items.length / 10,\n            count.next + items.length / 10\n          )\n        )\n      );\n    }, 2000);\n    setCount((prevState) => ({\n      prev: prevState.prev + items.length / 10,\n      next: prevState.next + items.length / 10,\n    }));\n  };\n\n  return (\n    <div>\n      <div className=\"page-wrapper d-block\">\n        <div className=\"page-content container-fluid\">\n          <Container>\n            <Row>\n              <Col>\n                <div className=\"d-sm-flex align-items-center\">\n                  <div className=\"\">\n                    <div>\n                      <h2 className=\"mb-3\">Tarjetas</h2>\n                    </div>\n\n                    <div className=\"ml-auto d-sm-flex no-block align-items-center mb-3 d-sm-flex\">\n                      <div className=\"dl\">\n                        <h5 className=\"font-weight-normal\">\n                          Todas las tarjetas en la base de datos\n                        </h5>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"ml-auto d-sm-flex no-block align-items-center mb-3\">\n                    <Col>\n                      <Link to=\"/agregartarjeta\">\n                        <Button color=\"success\" className=\"btn\">\n                          Agregar Tarjeta\n                        </Button>\n                      </Link>\n                    </Col>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n\n            <Card>\n              <CardBody>\n                <MaterialTable\n                  title=\"Remote Data Preview\"\n                  data={items}\n                  columns={[\n                    { title: \"Id\", field: \"id\" },\n                    { title: \"Numero\", field: \"numero\" },\n                    { title: \"Color\", field: \"color\" },\n                  ]}\n                />\n                <Table className=\"no-wrap v-middle\" responsive>\n                  <InfiniteScroll\n                    dataLength={current.length}\n                    next={getMoreData}\n                    hasMore={hasMore}\n                    loader={<h4>Cargando...</h4>}\n                  >\n                    <div>\n                      <thead>\n                        <tr className=\"border-0\">\n                          <th className=\"border-0\">\n                            N°\n                            <Button\n                              type=\"button\"\n                              onClick={() => requestSort(\"numero\")}\n                              className={getClassNamesFor(\"numero\")}\n                              color=\"link\"\n                            ></Button>\n                          </th>\n                          <th className=\"border-0\">\n                            Color\n                            <Button\n                              type=\"button\"\n                              onClick={() => requestSort(\"color\")}\n                              className={getClassNamesFor(\"color\")}\n                              color=\"link\"\n                            ></Button>\n                          </th>\n                          <th className=\"border-0\">\n                            Equipo autonomo\n                            <Button\n                              type=\"button\"\n                              onClick={() => requestSort(\"equipo\")}\n                              className={getClassNamesFor(\"equipo\")}\n                              color=\"link\"\n                            ></Button>\n                          </th>\n                          <th className=\"border-0\">\n                            Prioridad\n                            <Button\n                              type=\"button\"\n                              onClick={() => requestSort(\"prioridad\")}\n                              className={getClassNamesFor(\"prioridad\")}\n                              color=\"link\"\n                            ></Button>\n                          </th>\n\n                          <th className=\"border-0\">\n                            Fecha apertura\n                            <Button\n                              type=\"button\"\n                              onClick={() => requestSort(\"fecha\")}\n                              color=\"link\"\n                              className={getClassNamesFor(\"fecha\")}\n                            ></Button>\n                          </th>\n                          <th className=\"border-0\">\n                            Descripcion anomalia\n                            <Button\n                              type=\"button\"\n                              onClick={() => requestSort(\"descripcion\")}\n                              color=\"link\"\n                              className={getClassNamesFor(\"descripcion\")}\n                            ></Button>\n                          </th>\n                          <th className=\"border-0\">\n                            Estado actual\n                            <Button\n                              type=\"button\"\n                              onClick={() => requestSort(\"estado\")}\n                              color=\"link\"\n                              className={getClassNamesFor(\"estado\")}\n                            ></Button>\n                          </th>\n                        </tr>\n                      </thead>\n                      {current &&\n                        current.map(\n                          ({\n                            numero,\n                            color,\n                            prioridad,\n                            equipo,\n                            fecha,\n                            descripcion,\n                            estado,\n                            _id,\n                          }) => {\n                            const timeDiferrence = moment().diff(fecha, \"days\");\n                            return (\n                              <tbody key={_id}>\n                                <tr>\n                                  <td>\n                                    <div className=\"d-flex no-block align-items-center\">\n                                      <div className=\"\">\n                                        <Link\n                                          to={{ pathname: `/tarjeta/${_id}` }}\n                                        >\n                                          <h5 className=\"mb-0 font-16 font-medium\">\n                                            {numero}\n                                          </h5>\n                                        </Link>\n                                      </div>\n                                    </div>\n                                  </td>\n                                  {color === \"Azul\" ? (\n                                    <td>\n                                      <li className=\"border-0 p-0 text-info list-inline-item\">\n                                        <i className=\"fa fa-circle\"></i> {color}\n                                      </li>\n                                    </td>\n                                  ) : null}\n                                  {color === \"Roja\" ? (\n                                    <td>\n                                      <li className=\"border-0 p-0 text-danger list-inline-item\">\n                                        <i className=\"fa fa-circle\"></i> {color}\n                                      </li>\n                                    </td>\n                                  ) : null}\n                                  {color === \"Verde\" ? (\n                                    <td>\n                                      <li className=\"border-0 p-0 text-success list-inline-item\">\n                                        <i className=\"fa fa-circle\"></i> {color}\n                                      </li>\n                                    </td>\n                                  ) : null}\n                                  {color === \"Amarilla\" ? (\n                                    <td>\n                                      <li className=\"border-0 p-0 text-warning list-inline-item\">\n                                        <i className=\"fa fa-circle\"></i> {color}\n                                      </li>\n                                    </td>\n                                  ) : null}\n                                  <td>{equipo}</td>\n                                  <td>\n                                    {prioridad}\n\n                                    {prioridad === \"Alta\" &&\n                                      estado === \"Abierta\" &&\n                                      timeDiferrence >= 15 && (\n                                        <li className=\"border-0 p-0 text-danger list-inline-item\">\n                                          ⚠️\n                                        </li>\n                                      )}\n                                    {prioridad === \"Media\" &&\n                                      estado === \"Abierta\" &&\n                                      timeDiferrence >= 30 && (\n                                        <li className=\"border-0 p-0 text-danger list-inline-item\">\n                                          ⚠️\n                                        </li>\n                                      )}\n                                    {prioridad === \"Baja\" &&\n                                      estado === \"Abierta\" &&\n                                      timeDiferrence >= 60 && (\n                                        <li className=\"border-0 p-0 text-danger list-inline-item\">\n                                          ⚠️\n                                        </li>\n                                      )}\n                                  </td>\n\n                                  <td>\n                                    {moment(fecha).format(\"DD/MM/YYYY LTS\")}\n                                  </td>\n                                  <td>{descripcion}</td>\n\n                                  <td>{estado}</td>\n                                  <td>\n                                    <Link to={{ pathname: `/tarjeta/${_id}` }}>\n                                      <Button\n                                        color=\"success\"\n                                        className=\"btn bg-secondary border border-secondary\"\n                                      >\n                                        Ver detalle\n                                      </Button>\n                                    </Link>\n                                  </td>\n                                </tr>\n                              </tbody>\n                            );\n                          }\n                        )}\n                    </div>\n                  </InfiniteScroll>\n                </Table>\n              </CardBody>\n            </Card>\n          </Container>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport class MisTarjetas extends Component {\n  componentDidMount() {\n    this.props.getTarjetas();\n    this.props.loadUser();\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    if (this.props.isAuthenticated === false && this.props.isLoading === false)\n      return <Redirect to=\"/login\" />;\n\n    return (\n      <div>\n        <TarjetasTable\n          tarjetas={this.props.tarjetas.tarjetas}\n          user={this.props.user}\n        />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    tarjetas: state.tarjetas,\n    isAuthenticated: state.auth.isAuthenticated,\n    isLoading: state.auth.isLoading,\n    user: state.auth.user,\n  };\n};\nexport default connect(mapStateToProps, { getTarjetas, loadUser })(MisTarjetas);\n"]},"metadata":{},"sourceType":"module"}